# 多接收者功能说明

## 功能概述

现在支持在任务命令中指定多个接收者，可以一次为多人创建任务。

## 使用方法

### 基本格式

在消息内容前添加 `@接收者` 来指定任务接收者：

```
任务类型 时间参数 @接收者 消息内容
```

### 多接收者格式

使用逗号分隔多个接收者：

```
任务类型 时间参数 @接收者1,接收者2,接收者3 消息内容
```

### 默认接收者

如果不指定接收者，任务会发送给命令发送者本人：

```
任务类型 时间参数 消息内容  → 发给自己
```

## 示例

### 单次任务

```
# 发给自己
单次任务 明天 15:30 提醒开会

# 发给张三
单次任务 明天 15:30 @张三 提醒开会

# 发给张三和李四
单次任务 明天 15:30 @张三,李四 提醒开会
```

### 每日任务

```
# 发给自己
每日任务 09:00 早安问候

# 发给张三
每日任务 09:00 @张三 早安问候

# 发给张三和李四
每日任务 09:00 @张三,李四 早安问候
```

### 每周任务

```
# 发给自己
每周任务 周一 09:00 周会提醒

# 发给张三
每周任务 周一 09:00 @张三 周会提醒

# 发给张三和李四
每周任务 周一 09:00 @张三,李四 周会提醒
```

### 工作日任务

```
# 发给自己
工作日 09:00 打卡提醒

# 发给张三
工作日 09:00 @张三 打卡提醒

# 发给张三和李四
工作日 09:00 @张三,李四 打卡提醒
```

## 回复消息格式

添加任务成功后，回复消息会显示接收者信息：

```
✅ 已成功添加每日任务
👤 接收者: 张三, 李四
⏰ 时间: 09:00
📝 内容: 早安问候
```

## 注意事项

1. **接收者名称**：必须与微信中显示的名称完全一致（包括大小写、空格）
2. **逗号分隔**：多个接收者之间用英文逗号 `,` 分隔，不要有空格
3. **@ 符号**：@ 符号后面直接跟接收者名称，不要有空格
4. **消息内容**：@ 和接收者之后必须有空格，然后是消息内容

## 正确格式示例

✅ **正确**：
```
每日任务 09:00 @张三,李四 早安问候
```

❌ **错误**：
```
每日任务 09:00 @ 张三, 李四 早安问候  # @ 后面有空格
每日任务 09:00 @张三, 李四 早安问候   # 逗号后面有空格
每日任务 09:00 @张三,李四早安问候     # 接收者和消息之间没有空格
```

## 实际应用场景

### 场景1：团队早会提醒

```
每日任务 09:00 @张三,李四,王五 早会时间到了，请准备好分享内容
```

### 场景2：项目截止日期提醒

```
单次任务 2026-02-15 10:00 @张三,李四 项目今天截止，请提交最终版本
```

### 场景3：周报提醒

```
每周任务 周五 17:00 @张三,李四,王五 记得提交本周周报
```

### 场景4：工作日打卡提醒

```
工作日 08:50 @张三,李四 记得打卡哦！
```

## 与现有功能的兼容性

- ✅ 完全兼容现有的单接收者功能
- ✅ 不指定接收者时，默认发给自己
- ✅ 可以在 GUI 界面中查看和管理所有任务
- ✅ 支持所有任务类型（单次、每日、每周、工作日）

## 常见问题

### Q1: 可以为群聊添加任务吗？

A: 目前只支持为个人添加任务。如果需要在群聊中发送消息，请在 GUI 界面中创建任务并勾选"群聊"选项。

### Q2: 接收者名称必须完全匹配吗？

A: 是的，接收者名称必须与微信中显示的完全一致，包括大小写、空格等。

### Q3: 可以添加多少个接收者？

A: 理论上没有限制，但建议不要超过 10 个，以免消息发送时间过长。

### Q4: 如果接收者名称中包含逗号怎么办？

A: 目前不支持名称中包含逗号的接收者。建议使用备注名称。

### Q5: 可以修改已创建任务的接收者吗？

A: 可以在 GUI 界面的"定时任务"标签页中编辑任务，修改接收者。

## 相关文档

- [MESSAGE_TASK.md](MESSAGE_TASK.md) - 完整使用手册
- [QUICKSTART.md](QUICKSTART.md) - 快速开始指南
- [EXAMPLES.md](EXAMPLES.md) - 使用示例
