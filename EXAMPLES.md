# 使用示例

## 通过微信消息添加定时任务示例

### 场景1：明天的会议提醒

**发送消息：**
```
单次任务 明天 14:30 参加产品评审会议
```

**机器人回复：**
```
✅ 已成功添加单次任务
📅 日期: 2026-02-06
⏰ 时间: 14:30
📝 内容: 参加产品评审会议
```

### 场景2：每天的早安问候

**发送消息：**
```
每日任务 08:00 早上好！新的一天开始了
```

**机器人回复：**
```
✅ 已成功添加每日任务
⏰ 时间: 08:00
📝 内容: 早上好！新的一天开始了
```

### 场景3：每周一的周会提醒

**发送消息：**
```
每周任务 周一 09:30 周会时间到了，请准备好周报
```

**机器人回复：**
```
✅ 已成功添加每周任务
📅 星期: 周一
⏰ 时间: 09:30
📝 内容: 周会时间到了，请准备好周报
```

### 场景4：工作日打卡提醒

**发送消息：**
```
工作日 08:50 记得打卡哦！
```

**机器人回复：**
```
✅ 已成功添加工作日任务（周一至周五共5个任务）
⏰ 时间: 08:50
📝 内容: 记得打卡哦！
```

### 场景5：特定日期的生日提醒

**发送消息：**
```
单次任务 2026-03-15 10:00 今天是小明的生日，记得送祝福
```

**机器人回复：**
```
✅ 已成功添加单次任务
📅 日期: 2026-03-15
⏰ 时间: 10:00
📝 内容: 今天是小明的生日，记得送祝福
```

## 错误处理示例

### 错误1：时间格式错误

**发送消息：**
```
每日任务 25:00 这是一个错误的时间
```

**机器人回复：**
```
❌ 无法识别时间格式: 25:00

📖 支持的格式:
• 单次任务 日期 时间 内容
  例: 单次任务 明天 15:30 提醒开会
• 每日任务 时间 内容
  例: 每日任务 09:00 早安问候
• 每周任务 星期 时间 内容
  例: 每周任务 周一 09:00 周会提醒
• 工作日 时间 内容
  例: 工作日 09:00 打卡提醒
```

### 错误2：日期已过期

**发送消息：**
```
单次任务 2025-01-01 10:00 这是过去的时间
```

**机器人回复：**
```
❌ 任务时间不能是过去的时间
```

## 高级用法

### 使用简短日期格式

**发送消息：**
```
单次任务 03-20 15:00 春分节气提醒
```

系统会自动补充年份（如果日期已过，会使用明年）

### 使用不同的时间格式

以下格式都是有效的：
- `09:00`
- `9:00`
- `09时00分`
- `9点00分`

### 使用不同的星期格式

以下格式都是有效的：
- `周一`、`周二`、`周三`...
- `星期一`、`星期二`、`星期三`...
- `礼拜一`、`礼拜二`、`礼拜三`...

## 配置示例

### config.ini 配置

```ini
[DEFAULT]
listen_list = 好友名称或备注,群名称
webhook_urls = http://ip:port
port = 5000
retry_count = 3
retry_delay = 5
log_level = INFO
api_token = your_token_here
task_admin_list = 张三,李四,王五
```

在这个配置中，只有"张三"、"李四"、"王五"这三个用户可以通过微信消息添加定时任务。

## 注意事项

1. **权限控制**：确保只将信任的用户添加到 `task_admin_list` 中
2. **任务接收者**：通过消息添加的任务会发送给命令发送者本人
3. **任务管理**：可以在程序界面的"定时任务"标签页中查看和管理所有任务
4. **立即生效**：任务添加后立即生效，无需重启程序
5. **单次任务**：单次任务执行后会自动禁用，但不会删除
